     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_IDTAddress
     7 00000000                                 	EXTERN	_load_idtr
     8 00000000                                 [FILE "IDT.c"]
     9                                          [SECTION .data]
    10 00000000                                 	ALIGNB	4
    11 00000000                                 _IDTAddress:
    12 00000000 0026F800                        	DD	2553856
    13                                          [SECTION .text]
    14 00000000                                 	GLOBAL	_initIDT
    15 00000000                                 _initIDT:
    16 00000000 55                              	PUSH	EBP
    17 00000001 89 E5                           	MOV	EBP,ESP
    18 00000003 56                              	PUSH	ESI
    19 00000004 53                              	PUSH	EBX
    20 00000005 8B 1D [00000000]                	MOV	EBX,DWORD [_IDTAddress]
    21 0000000B 8D B3 000007F8                  	LEA	ESI,DWORD [2040+EBX]
    22 00000011                                 L6:
    23 00000011 6A 00                           	PUSH	0
    24 00000013 6A 00                           	PUSH	0
    25 00000015 6A 00                           	PUSH	0
    26 00000017 53                              	PUSH	EBX
    27 00000018 83 C3 08                        	ADD	EBX,8
    28 0000001B E8 0000001E                     	CALL	_setIDT
    29 00000020 83 C4 10                        	ADD	ESP,16
    30 00000023 39 F3                           	CMP	EBX,ESI
    31 00000025 7E EA                           	JLE	L6
    32 00000027 FF 35 [00000000]                	PUSH	DWORD [_IDTAddress]
    33 0000002D 68 000007FF                     	PUSH	2047
    34 00000032 E8 [00000000]                   	CALL	_load_idtr
    35 00000037 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    36 0000003A 5B                              	POP	EBX
    37 0000003B 5E                              	POP	ESI
    38 0000003C 5D                              	POP	EBP
    39 0000003D C3                              	RET
    40 0000003E                                 	GLOBAL	_setIDT
    41 0000003E                                 _setIDT:
    42 0000003E 55                              	PUSH	EBP
    43 0000003F 89 E5                           	MOV	EBP,ESP
    44 00000041 53                              	PUSH	EBX
    45 00000042 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    46 00000045 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
    47 00000048 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
    48 0000004B 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    49 0000004E 66 89 42 02                     	MOV	WORD [2+EDX],AX
    50 00000052 88 5A 05                        	MOV	BYTE [5+EDX],BL
    51 00000055 66 89 0A                        	MOV	WORD [EDX],CX
    52 00000058 89 D8                           	MOV	EAX,EBX
    53 0000005A C1 F8 08                        	SAR	EAX,8
    54 0000005D C1 F9 10                        	SAR	ECX,16
    55 00000060 88 42 04                        	MOV	BYTE [4+EDX],AL
    56 00000063 66 89 4A 06                     	MOV	WORD [6+EDX],CX
    57 00000067 5B                              	POP	EBX
    58 00000068 5D                              	POP	EBP
    59 00000069 C3                              	RET
