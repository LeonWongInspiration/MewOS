     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_init_palette
     8 00000000                                 	EXTERN	_initGDT
     9 00000000                                 	EXTERN	_initIDT
    10 00000000                                 	EXTERN	_init_screen
    11 00000000                                 	EXTERN	_version
    12 00000000                                 	EXTERN	_putfonts8_asc
    13 00000000                                 	EXTERN	_init_mouse_cursor8
    14 00000000                                 	EXTERN	_putblock8_8
    15 00000000                                 [FILE "C_Entry.c"]
    16                                          [SECTION .data]
    17 00000000                                 	ALIGNB	4
    18 00000000                                 _COL8_000000:
    19 00000000 00000000                        	DD	0
    20 00000004                                 	ALIGNB	4
    21 00000004                                 _COL8_FF0000:
    22 00000004 00000001                        	DD	1
    23 00000008                                 	ALIGNB	4
    24 00000008                                 _COL8_00FF00:
    25 00000008 00000002                        	DD	2
    26 0000000C                                 	ALIGNB	4
    27 0000000C                                 _COL8_FFFF00:
    28 0000000C 00000003                        	DD	3
    29 00000010                                 	ALIGNB	4
    30 00000010                                 _COL8_0000FF:
    31 00000010 00000004                        	DD	4
    32 00000014                                 	ALIGNB	4
    33 00000014                                 _COL8_FF00FF:
    34 00000014 00000005                        	DD	5
    35 00000018                                 	ALIGNB	4
    36 00000018                                 _COL8_00FFFF:
    37 00000018 00000006                        	DD	6
    38 0000001C                                 	ALIGNB	4
    39 0000001C                                 _COL8_FFFFFF:
    40 0000001C 00000007                        	DD	7
    41 00000020                                 	ALIGNB	4
    42 00000020                                 _COL8_C6C6C6:
    43 00000020 00000008                        	DD	8
    44 00000024                                 	ALIGNB	4
    45 00000024                                 _COL8_840000:
    46 00000024 00000009                        	DD	9
    47 00000028                                 	ALIGNB	4
    48 00000028                                 _COL8_008400:
    49 00000028 0000000A                        	DD	10
    50 0000002C                                 	ALIGNB	4
    51 0000002C                                 _COL8_848400:
    52 0000002C 0000000B                        	DD	11
    53 00000030                                 	ALIGNB	4
    54 00000030                                 _COL8_000084:
    55 00000030 0000000C                        	DD	12
    56 00000034                                 	ALIGNB	4
    57 00000034                                 _COL8_840084:
    58 00000034 0000000D                        	DD	13
    59 00000038                                 	ALIGNB	4
    60 00000038                                 _COL8_008484:
    61 00000038 0000000E                        	DD	14
    62 0000003C                                 	ALIGNB	4
    63 0000003C                                 _COL8_848484:
    64 0000003C 0000000F                        	DD	15
    65 00000040                                 	ALIGNB	4
    66 00000040                                 _GDTAddress:
    67 00000040 00270000                        	DD	2555904
    68 00000044                                 	ALIGNB	4
    69 00000044                                 _IDTAddress:
    70 00000044 0026F800                        	DD	2553856
    71 00000048                                 LC0:
    72 00000048 4D 65 77 4F 53 20 30 2E 30 2E   	DB	"MewOS 0.0.2.1",0x00
       00000052 32 2E 31 00 
    73 00000056 00 00                           	ALIGNB	4
    74 00000058                                 _version:
    75 00000058 [00000048]                      	DD	LC0
    76                                          [SECTION .text]
    77 00000000                                 	GLOBAL	_MewOSMain
    78 00000000                                 _MewOSMain:
    79 00000000 55                              	PUSH	EBP
    80 00000001 89 E5                           	MOV	EBP,ESP
    81 00000003 81 EC 00000100                  	SUB	ESP,256
    82 00000009 8D 85 FFFFFF00                  	LEA	EAX,DWORD [-256+EBP]
    83 0000000F 50                              	PUSH	EAX
    84 00000010 68 00000FF0                     	PUSH	4080
    85 00000015 E8 00000009                     	CALL	_do_init
    86 0000001A 58                              	POP	EAX
    87 0000001B 5A                              	POP	EDX
    88 0000001C                                 L5:
    89 0000001C E8 [00000000]                   	CALL	_io_hlt
    90 00000021 EB F9                           	JMP	L5
    91                                          [SECTION .data]
    92 0000005C                                 LC1:
    93 0000005C 68 65 6C 6C 6F 2C 20 77 6F 72   	DB	"hello, world!",0x00
       00000066 6C 64 21 00 
    94                                          [SECTION .text]
    95 00000023                                 	GLOBAL	_do_init
    96 00000023                                 _do_init:
    97 00000023 55                              	PUSH	EBP
    98 00000024 89 E5                           	MOV	EBP,ESP
    99 00000026 56                              	PUSH	ESI
   100 00000027 53                              	PUSH	EBX
   101 00000028 51                              	PUSH	ECX
   102 00000029 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   103 0000002C 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
   104 0000002F E8 [00000000]                   	CALL	_init_palette
   105 00000034 E8 [00000000]                   	CALL	_initGDT
   106 00000039 E8 [00000000]                   	CALL	_initIDT
   107 0000003E 0F BF 43 06                     	MOVSX	EAX,WORD [6+EBX]
   108 00000042 50                              	PUSH	EAX
   109 00000043 0F BF 43 04                     	MOVSX	EAX,WORD [4+EBX]
   110 00000047 50                              	PUSH	EAX
   111 00000048 FF 73 08                        	PUSH	DWORD [8+EBX]
   112 0000004B E8 [00000000]                   	CALL	_init_screen
   113 00000050 FF 35 [00000058]                	PUSH	DWORD [_version]
   114 00000056 6A 07                           	PUSH	7
   115 00000058 6A 08                           	PUSH	8
   116 0000005A 6A 08                           	PUSH	8
   117 0000005C 0F BF 43 04                     	MOVSX	EAX,WORD [4+EBX]
   118 00000060 50                              	PUSH	EAX
   119 00000061 FF 73 08                        	PUSH	DWORD [8+EBX]
   120 00000064 E8 [00000000]                   	CALL	_putfonts8_asc
   121 00000069 83 C4 24                        	ADD	ESP,36
   122 0000006C 68 [0000005C]                   	PUSH	LC1
   123 00000071 6A 00                           	PUSH	0
   124 00000073 6A 1F                           	PUSH	31
   125 00000075 6A 1F                           	PUSH	31
   126 00000077 0F BF 43 04                     	MOVSX	EAX,WORD [4+EBX]
   127 0000007B 50                              	PUSH	EAX
   128 0000007C FF 73 08                        	PUSH	DWORD [8+EBX]
   129 0000007F E8 [00000000]                   	CALL	_putfonts8_asc
   130 00000084 68 [0000005C]                   	PUSH	LC1
   131 00000089 6A 07                           	PUSH	7
   132 0000008B 6A 1E                           	PUSH	30
   133 0000008D 6A 1E                           	PUSH	30
   134 0000008F 0F BF 43 04                     	MOVSX	EAX,WORD [4+EBX]
   135 00000093 50                              	PUSH	EAX
   136 00000094 FF 73 08                        	PUSH	DWORD [8+EBX]
   137 00000097 E8 [00000000]                   	CALL	_putfonts8_asc
   138 0000009C 83 C4 30                        	ADD	ESP,48
   139 0000009F 6A 0E                           	PUSH	14
   140 000000A1 56                              	PUSH	ESI
   141 000000A2 E8 [00000000]                   	CALL	_init_mouse_cursor8
   142 000000A7 B9 00000002                     	MOV	ECX,2
   143 000000AC 6A 10                           	PUSH	16
   144 000000AE 56                              	PUSH	ESI
   145 000000AF BE 00000002                     	MOV	ESI,2
   146 000000B4 0F BF 43 06                     	MOVSX	EAX,WORD [6+EBX]
   147 000000B8 83 E8 2C                        	SUB	EAX,44
   148 000000BB 99                              	CDQ
   149 000000BC F7 F9                           	IDIV	ECX
   150 000000BE 50                              	PUSH	EAX
   151 000000BF 0F BF 4B 04                     	MOVSX	ECX,WORD [4+EBX]
   152 000000C3 8D 41 F0                        	LEA	EAX,DWORD [-16+ECX]
   153 000000C6 99                              	CDQ
   154 000000C7 F7 FE                           	IDIV	ESI
   155 000000C9 50                              	PUSH	EAX
   156 000000CA 6A 10                           	PUSH	16
   157 000000CC 6A 10                           	PUSH	16
   158 000000CE 51                              	PUSH	ECX
   159 000000CF FF 73 08                        	PUSH	DWORD [8+EBX]
   160 000000D2 E8 [00000000]                   	CALL	_putblock8_8
   161 000000D7 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   162 000000DA 5B                              	POP	EBX
   163 000000DB 5E                              	POP	ESI
   164 000000DC 5D                              	POP	EBP
   165 000000DD C3                              	RET
